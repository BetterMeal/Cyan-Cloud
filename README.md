# Cyan-Cloud

脚著谢公屐，身登青云梯~

## Manual

### 免责声明

- 更改IC卡内数据可能涉及违规违法行为，请自行承担修改数据的责任及后果。
- 由于IC卡的特殊性，请确保操作时清晰地知道每一步的目的及原理，并自行承担因操作不当导致IC卡失效的后果。

## 准备

- UID卡扣/白卡 购买链接：<https://new.m.taobao.com/detail.htm?id=568277488633> （使用现有校园卡或从其他商家购买亦可）
- 一台有NFC功能的安卓手机
- 软件 **MIFARE Classic Tool**  下载链接：<https://cos.tg/ic>
- 电梯卡数据文件 文件名 `SES.mct` 在本仓库下
- 电梯卡密钥文件 文件名 `SES.keys` 在本仓库下

## 第一步 导入文件

注：仅限初次操作，再次操作时无需重复导入。

### 安装软件

- 安装软件 **MIFARE Classic Tool**
- 打开软件，点击左下角的 **工具**
- 在弹出的列表里选择 **导入/导出/转换文件**

### 导入转储文件

- 点击 **导入转储文件** 选择 `.mct (MIFARE Classic Tool)`
- 单击选择刚刚下载好的**电梯卡数据文件** 文件名为 `SES.mct`（一般在手机的 `/Download`目录下）
- 若导入成功 软件会提示 “**文件已导入**”

### 导入密钥

- 点击 **导入密钥** 选择 `.keys/.dic/.txt (MIFARE Classic Tool, Proxmark)`
- 单击选择刚刚下载好的**电梯卡密钥文件** 文件名为 `SES.keys`（一般在手机的 `/Download`目录下）
- 若导入成功 软件会提示 “**文件已导入**”

## 第二步 写卡

- 回到软件主页，点击右上角的 **写标签**
- 将要写的卡放在**手机的背面正上方**，若有震动声则说明检测到卡片
- 选择第2种模式：**写转储（克隆）**，点击 **选择转储**
- 选择刚刚导入的 `SES.mct` 文件，点击下方 **选择转储**
- 点击右上角的 **取消选择**，然后勾选 **扇区4** （注：**不要勾选其他扇区，否则会因为数据冲突导致功能失效**），点击右下角的 **OK**
- 在 **选择密钥文件** 中选择  `SES.keys` ，点击右下方的 **开始映射并写转储**
- 等待写卡完成，即可正常乘坐电梯

## 手机/手表模拟实体卡

- 仅限[支持创建空白虚拟卡](https://h5hosting-drcn.dbankcdn.cn/cch5/huaweipaycdn/aiPass_passDervices/index.html?keyType=blankcard)的手机
- 打开钱包 > 卡包，点击添加更多卡片下的钥匙，点击门禁卡 > 创建空白卡 从而创建空白卡
- 创建完成的空白卡与实体卡无异，可在进入写卡界面后，使用另一台手机作为写卡器，参照上文第二步写卡
